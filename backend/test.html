<!DOCTYPE html>
<html>
<head>
    <title>Portfolio API Test</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #1a1a1a; color: #fff; }
        .section { margin: 20px 0; padding: 20px; background: #2a2a2a; border-radius: 8px; }
        h2 { color: #4ade80; }
        .project { padding: 10px; margin: 10px 0; background: #3a3a3a; border-radius: 4px; }
        .skill { display: inline-block; padding: 5px 10px; margin: 5px; background: #4a4a4a; border-radius: 4px; }
        .loading { color: #fbbf24; }
        .error { color: #ef4444; }
    </style>
</head>
<body>
    <h1>üß™ Portfolio Integration Test</h1>
    <p>Testing backend API connection...</p>

    <div class="section">
        <h2>Projects</h2>
        <div id="projects" class="loading">Loading...</div>
    </div>

    <div class="section">
        <h2>Skills</h2>
        <div id="skills" class="loading">Loading...</div>
    </div>

    <div class="section">
        <h2>Certifications</h2>
        <div id="certifications" class="loading">Loading...</div>
    </div>

    <script>
        const API_BASE = 'http://localhost:3001/api';

        // Fetch Projects
        fetch(API_BASE + '/projects?status=published')
            .then(res => res.json())
            .then(data => {
                document.getElementById('projects').innerHTML = 
                    '<p>‚úÖ Found ' + data.length + ' projects</p>' +
                    data.map(p => '<div class="project"><strong>' + p.title + '</strong><br>' + p.summary + '</div>').join('');
            })
            .catch(err => {
                document.getElementById('projects').innerHTML = '<p class="error">‚ùå Error: ' + err.message + '</p>';
            });

        // Fetch Skills
        fetch(API_BASE + '/skills/by-category')
            .then(res => res.json())
            .then(data => {
                const categories = Object.keys(data);
                document.getElementById('skills').innerHTML = 
                    '<p>‚úÖ Found ' + categories.length + ' skill categories</p>' +
                    categories.map(cat => '<div><strong>' + cat + '</strong><br>' + 
                        data[cat].map(s => '<span class="skill">' + s.name + '</span>').join('') +
                    '</div>').join('<br>');
            })
            .catch(err => {
                document.getElementById('skills').innerHTML = '<p class="error">‚ùå Error: ' + err.message + '</p>';
            });

        // Fetch Certifications
        fetch(API_BASE + '/certifications')
            .then(res => res.json())
            .then(data => {
                document.getElementById('certifications').innerHTML = 
                    '<p>‚úÖ Found ' + data.length + ' certifications</p>' +
                    data.map(c => '<div class="project"><strong>' + c.title + '</strong> (' + c.status + ')<br>' + c.description + '</div>').join('');
            })
            .catch(err => {
                document.getElementById('certifications').innerHTML = '<p class="error">‚ùå Error: ' + err.message + '</p>';
            });
    </script>
</body>
</html>
