# IT Portfolio Integration Architecture

**Generated by: project-supervisor-orchestrator**
**Date: 2026-01-05**
**Status: APPROVED FOR AUTONOMOUS EXECUTION**

---

## ğŸ¯ Executive Summary

**Mission:** Integrate portfolio frontend and admin dashboard with shared data layer for seamless content management.

**Architecture:** Two independent Vite React apps sharing a centralized data store with real-time synchronization.

**Approach:** Local-first development with JSON-based storage, designed for seamless Supabase migration.

---

## ğŸ“Š Current State Analysis

### Portfolio Frontend
- **Framework:** React 18 + TypeScript + Vite
- **Styling:** Tailwind CSS + shadcn/ui
- **State:** React Query + local state
- **Data Source:** Currently fetches from `/projects.json`
- **Key Components:**
  - `ProjectsSection` - Displays projects (currently hardcoded)
  - `SkillsSection` - Skills grid (hardcoded array)
  - `CertificationsSection` - Certifications (hardcoded)
  - `ContactSection` - Contact form
  - `LabsSection` - Lab projects
  - `HeroSection`, `AboutSection` - Personal info

### Admin Dashboard
- **Framework:** React 18 + JSX + Vite
- **Styling:** Bootstrap 5 + SCSS
- **State:** React context + local state
- **Current Views:** Sales dashboard (sample data)
- **Key Components:**
  - `DashSales` - Analytics dashboard
  - `AdminLayout` - Main layout with sidebar
  - Auth pages (login/register)

---

## ğŸ—ï¸ Integration Architecture

### Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ADMIN DASHBOARD                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Content Management UI                               â”‚   â”‚
â”‚  â”‚  - Projects CRUD                                     â”‚   â”‚
â”‚  â”‚  - Skills Management                                 â”‚   â”‚
â”‚  â”‚  - Certifications Manager                            â”‚   â”‚
â”‚  â”‚  - Contact Submissions Viewer                        â”‚   â”‚
â”‚  â”‚  - Personal Info Editor                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                 â”‚ API Calls                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   SHARED LAYER     â”‚
         â”‚                    â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚  API Client  â”‚  â”‚
         â”‚  â”‚  (Axios)     â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â”‚         â”‚           â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚ Local JSON   â”‚  â”‚ â—„â”€â”€ Development Phase
         â”‚  â”‚ Server API   â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â”‚         â”‚           â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚  Supabase    â”‚  â”‚ â—„â”€â”€ Production Phase
         â”‚  â”‚  Client      â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â”‚                    â”‚
         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
         â”‚  â”‚ TypeScript   â”‚  â”‚
         â”‚  â”‚    Types     â”‚  â”‚
         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PORTFOLIO FRONTEND                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Public Display                                      â”‚   â”‚
â”‚  â”‚  - Projects Gallery                                  â”‚   â”‚
â”‚  â”‚  - Skills Showcase                                   â”‚   â”‚
â”‚  â”‚  - Certifications Display                            â”‚   â”‚
â”‚  â”‚  - Contact Form                                      â”‚   â”‚
â”‚  â”‚  - Hero & About Sections                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Shared Layer Structure

### Directory Organization

```
Projects/IT-Portfolio/
â”œâ”€â”€ portfolio-frontend/         # Public portfolio (port 5173)
â”œâ”€â”€ admin-dashboard/           # Admin panel (port 5174)
â”œâ”€â”€ shared/                    # Shared code layer
â”‚   â”œâ”€â”€ types/                # TypeScript definitions
â”‚   â”‚   â”œâ”€â”€ index.ts         # Main type exports
â”‚   â”‚   â”œâ”€â”€ projects.ts      # Project types
â”‚   â”‚   â”œâ”€â”€ skills.ts        # Skill types
â”‚   â”‚   â”œâ”€â”€ certifications.ts # Certification types
â”‚   â”‚   â”œâ”€â”€ contact.ts       # Contact submission types
â”‚   â”‚   â””â”€â”€ personal.ts      # Personal info types
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                  # API client layer
â”‚   â”‚   â”œâ”€â”€ client.ts        # Base API client (Axios)
â”‚   â”‚   â”œâ”€â”€ projects.ts      # Project API methods
â”‚   â”‚   â”œâ”€â”€ skills.ts        # Skills API methods
â”‚   â”‚   â”œâ”€â”€ certifications.ts # Certifications API
â”‚   â”‚   â”œâ”€â”€ contact.ts       # Contact API
â”‚   â”‚   â””â”€â”€ personal.ts      # Personal info API
â”‚   â”‚
â”‚   â”œâ”€â”€ constants/            # Shared constants
â”‚   â”‚   â””â”€â”€ index.ts         # API endpoints, config
â”‚   â”‚
â”‚   â””â”€â”€ utils/                # Shared utilities
â”‚       â”œâ”€â”€ validation.ts    # Validation schemas (Zod)
â”‚       â””â”€â”€ formatters.ts    # Data formatters
â”‚
â”œâ”€â”€ backend/                   # Local development server
â”‚   â”œâ”€â”€ server.js             # Express server
â”‚   â”œâ”€â”€ data/                 # JSON data files
â”‚   â”‚   â”œâ”€â”€ projects.json
â”‚   â”‚   â”œâ”€â”€ skills.json
â”‚   â”‚   â”œâ”€â”€ certifications.json
â”‚   â”‚   â”œâ”€â”€ contact.json
â”‚   â”‚   â””â”€â”€ personal.json
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ docs/
    â””â”€â”€ ARCHITECTURE.md       # This file
```

---

## ğŸ—„ï¸ Database Schema

### 1. Projects Table

```typescript
interface Project {
  id: string;                    // UUID
  title: string;                 // Project name
  description: string;           // Full description
  summary: string;               // Short description
  color: string;                 // Hex color for UI
  image_url: string | null;      // Project image
  video_url: string | null;      // Demo video
  github_url: string | null;     // GitHub repository
  live_url: string | null;       // Live demo
  technologies: string[];        // Tech stack array
  features: string[];            // Key features
  category: string;              // e.g., "IT Support", "Development"
  featured: boolean;             // Show on homepage
  order: number;                 // Display order
  status: 'draft' | 'published'; // Publication status
  created_at: string;            // ISO timestamp
  updated_at: string;            // ISO timestamp
}
```

### 2. Skills Table

```typescript
interface Skill {
  id: string;                    // UUID
  name: string;                  // Skill name
  category: string;              // e.g., "IT Support", "Networking"
  proficiency: 1 | 2 | 3 | 4 | 5; // 1-5 level
  icon: string | null;           // Icon identifier
  description: string | null;    // Optional description
  order: number;                 // Display order within category
  created_at: string;
  updated_at: string;
}
```

### 3. Certifications Table

```typescript
interface Certification {
  id: string;                    // UUID
  title: string;                 // Cert name (e.g., "CompTIA A+")
  issuer: string;                // Issuing organization
  status: 'in_progress' | 'completed' | 'planned';
  issue_date: string | null;     // Date obtained (if completed)
  expiry_date: string | null;    // Expiration date
  credential_id: string | null;  // Credential ID
  credential_url: string | null; // Verification URL
  image_url: string | null;      // Badge/logo
  description: string;           // Description
  study_topics: string[];        // Topics covered
  order: number;
  created_at: string;
  updated_at: string;
}
```

### 4. Labs/Experiments Table

```typescript
interface Lab {
  id: string;                    // UUID
  title: string;                 // Lab name
  description: string;           // What was learned
  technologies: string[];        // Tech used
  date_completed: string;        // Completion date
  image_url: string | null;
  repository_url: string | null;
  notes: string | null;          // Additional notes
  order: number;
  created_at: string;
  updated_at: string;
}
```

### 5. Contact Submissions Table

```typescript
interface ContactSubmission {
  id: string;                    // UUID
  name: string;                  // Sender name
  email: string;                 // Sender email
  subject: string | null;        // Optional subject
  message: string;               // Message content
  status: 'new' | 'read' | 'replied' | 'archived';
  ip_address: string | null;     // For spam prevention
  user_agent: string | null;     // Browser info
  created_at: string;
  replied_at: string | null;
}
```

### 6. Personal Info Table (Single Row)

```typescript
interface PersonalInfo {
  id: string;                    // UUID (only one row)
  full_name: string;
  title: string;                 // Professional title
  bio: string;                   // About text
  tagline: string;               // Hero tagline
  email: string;
  phone: string | null;
  location: string | null;
  avatar_url: string | null;
  resume_url: string | null;
  social_links: {
    github?: string;
    linkedin?: string;
    twitter?: string;
    youtube?: string;
  };
  updated_at: string;
}
```

---

## ğŸ”§ Technology Stack

### Shared Dependencies

```json
{
  "axios": "^1.6.0",           // HTTP client
  "zod": "^3.22.0",            // Validation
  "date-fns": "^3.0.0"         // Date utilities (already in portfolio)
}
```

### Backend (Development Server)

```json
{
  "express": "^4.18.0",        // Server framework
  "cors": "^2.8.5",            // CORS handling
  "body-parser": "^1.20.0",    // Request parsing
  "uuid": "^9.0.0"             // ID generation
}
```

---

## ğŸš€ API Endpoints

### Base URL (Development): `http://localhost:3001/api`

### Projects

```
GET    /projects              # Get all projects
GET    /projects/:id          # Get single project
POST   /projects              # Create project
PUT    /projects/:id          # Update project
DELETE /projects/:id          # Delete project
PATCH  /projects/:id/reorder  # Update order
```

### Skills

```
GET    /skills                # Get all skills
GET    /skills/by-category    # Get skills grouped by category
POST   /skills                # Create skill
PUT    /skills/:id            # Update skill
DELETE /skills/:id            # Delete skill
```

### Certifications

```
GET    /certifications        # Get all certifications
GET    /certifications/:id    # Get single certification
POST   /certifications        # Create certification
PUT    /certifications/:id    # Update certification
DELETE /certifications/:id    # Delete certification
```

### Labs

```
GET    /labs                  # Get all labs
POST   /labs                  # Create lab
PUT    /labs/:id              # Update lab
DELETE /labs/:id              # Delete lab
```

### Contact

```
GET    /contact               # Get all submissions (admin only)
POST   /contact               # Submit contact form
PATCH  /contact/:id/status    # Update submission status
DELETE /contact/:id           # Delete submission
```

### Personal Info

```
GET    /personal              # Get personal info
PUT    /personal              # Update personal info
```

### File Upload

```
POST   /upload                # Upload file (images, resume, etc.)
```

---

## ğŸ”„ State Management Strategy

### Portfolio Frontend

**React Query for Data Fetching:**
- Automatic caching and revalidation
- Loading and error states
- Optimistic updates
- Real-time sync via polling (5s intervals)

**Local State for UI:**
- Form inputs
- Modal states
- Filters and search

### Admin Dashboard

**React Query for CRUD Operations:**
- Invalidate queries after mutations
- Optimistic updates for better UX
- Error handling and retry logic

**React Context for:**
- Authentication state
- User preferences
- Global notifications

---

## ğŸ“ File Modifications Required

### Portfolio Frontend Updates

```typescript
// 1. Update ProjectsSection.tsx
// Replace fetch('/projects.json') with API call

// 2. Update SkillsSection.tsx  
// Replace hardcoded array with API call

// 3. Update CertificationsSection.tsx
// Replace hardcoded data with API call

// 4. Update ContactSection.tsx
// Submit to API instead of just console.log

// 5. Update HeroSection.tsx & AboutSection.tsx
// Fetch personal info from API

// 6. Create new hooks in src/hooks/
// - useProjects.ts
// - useSkills.ts
// - useCertifications.ts
// - usePersonalInfo.ts
```

### Admin Dashboard New Views

```javascript
// Create in admin-dashboard/src/views/portfolio/

// 1. ProjectsManager.jsx - CRUD for projects
// 2. SkillsManager.jsx - CRUD for skills
// 3. CertificationsManager.jsx - CRUD for certifications
// 4. LabsManager.jsx - CRUD for labs
// 5. ContactViewer.jsx - View contact submissions
// 6. PersonalInfoEditor.jsx - Edit personal info
// 7. MediaUploader.jsx - Upload images/files
```

### Admin Dashboard Route Updates

```javascript
// Update admin-dashboard/src/menu-items.js
// Add new menu items for portfolio management

// Update admin-dashboard/src/routes/MainRoutes.jsx
// Add routes for new views
```

---

## ğŸ¨ UI/UX Considerations

### Portfolio Frontend
- **Preserve:** All animations, particle effects, terminal text
- **Add:** Loading skeletons, error states
- **Enhance:** Smooth transitions when data updates

### Admin Dashboard
- **Design:** Clean CRUD interfaces with Bootstrap cards
- **Features:** Drag-and-drop reordering, inline editing
- **Feedback:** Toast notifications for all actions

---

## ğŸ”’ Security Considerations

### Development Phase
- CORS enabled for localhost:5173 and localhost:5174
- No authentication (local development only)
- File upload size limits

### Production Phase (Supabase)
- Row Level Security (RLS) policies
- JWT authentication
- Rate limiting
- Input sanitization
- Secure file storage

---

## ğŸ§ª Testing Strategy

### Unit Tests
- API client methods
- Data validation schemas
- Utility functions

### Integration Tests
- Full CRUD flows
- Form submissions
- File uploads

### E2E Tests (Playwright)
1. Admin creates project â†’ appears on portfolio
2. Admin edits project â†’ updates in real-time
3. Admin deletes project â†’ removed from portfolio
4. Contact form submission â†’ appears in admin
5. Reordering projects â†’ updates display order

---

## ğŸ“Š Success Criteria

### Phase Completion Checklist

**âœ… Phase 1: Discovery (COMPLETED)**
- [x] Codebase analyzed
- [x] Architecture designed
- [x] Database schema defined
- [x] File structure planned

**Phase 2: Database & Mock Data**
- [ ] JSON data files created
- [ ] Express server implemented
- [ ] API endpoints functional
- [ ] CORS configured

**Phase 3: Shared Layer**
- [ ] TypeScript types defined
- [ ] API client created
- [ ] Validation schemas implemented
- [ ] Utilities built

**Phase 4: Admin Dashboard**
- [ ] Projects manager UI built
- [ ] Skills manager implemented
- [ ] Certifications manager created
- [ ] All CRUD operations working

**Phase 5: Portfolio Frontend**
- [ ] All sections fetching from API
- [ ] Loading states implemented
- [ ] Error handling added
- [ ] Real-time updates working

**Phase 6: Real-time Sync**
- [ ] Polling mechanism implemented
- [ ] Optimistic updates working
- [ ] Conflict resolution handled

**Phase 7: File Upload**
- [ ] Upload endpoint created
- [ ] Image optimization implemented
- [ ] File validation added

**Phase 8: Testing**
- [ ] All E2E tests passing
- [ ] Manual testing complete
- [ ] Performance validated

**Phase 9: Supabase Migration**
- [ ] Supabase project created
- [ ] Tables created with RLS
- [ ] Data migrated
- [ ] API client updated

**Phase 10: Deployment**
- [ ] Both apps deployed
- [ ] Environment variables configured
- [ ] Production testing complete

---

## ğŸš§ Migration Path: Local â†’ Supabase

### API Client Abstraction

```typescript
// shared/api/client.ts
const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:3001/api';
const USE_SUPABASE = import.meta.env.VITE_USE_SUPABASE === 'true';

export const apiClient = USE_SUPABASE 
  ? supabaseClient 
  : axiosClient;
```

**Benefit:** Switch backends by changing environment variable, zero code changes required.

---

## ğŸ¯ Agent Task Assignments

### Phase 2: database-architect + backend-architect
- Create Express server
- Implement all API endpoints
- Set up JSON file storage
- Add validation middleware

### Phase 3: backend-architect + task-decomposition-expert
- Define TypeScript types
- Build API client library
- Create validation schemas
- Implement utilities

### Phase 4: frontend-developer + ui-ux-designer
- Build all admin CRUD UIs
- Implement form validation
- Add loading states
- Create toast notifications

### Phase 5: frontend-developer + ui-ux-designer
- Update portfolio components
- Implement custom hooks
- Add error boundaries
- Preserve animations

### Phase 6: ai-engineer + task-decomposition-expert
- Implement polling strategy
- Add optimistic updates
- Handle edge cases
- Optimize performance

### Phase 7: backend-architect + ai-engineer
- Create upload endpoint
- Add image optimization
- Implement validation
- Set up storage

### Phase 8: debugger + error-detective + playwright MCP
- Write E2E tests
- Manual testing
- Performance testing
- Bug fixes

### Phase 9: supabase-schema-architect + database-architect
- Set up Supabase
- Create tables
- Configure RLS
- Migrate data

### Phase 10: nextjs-architecture-expert + github MCP
- Deploy apps
- Configure env vars
- Production testing
- Final validation

---

## ğŸ“ˆ Performance Targets

- **API Response Time:** < 100ms (local), < 500ms (Supabase)
- **Page Load Time:** < 2s (portfolio), < 3s (admin)
- **Time to Interactive:** < 3s
- **Lighthouse Score:** 90+ across all metrics

---

## ğŸ‰ Final Deliverable

A fully integrated portfolio system where:
1. Admin creates/edits content in dashboard
2. Changes appear on portfolio frontend immediately
3. All data persisted in backend (JSON â†’ Supabase)
4. File uploads working
5. Contact form submissions captured
6. Both apps deployed and live

**Estimated Total Time:** 2-3 hours autonomous execution

---

**Architecture Status:** âœ… APPROVED
**Ready for:** Phase 2 execution
**Next Agent:** database-architect + backend-architect
